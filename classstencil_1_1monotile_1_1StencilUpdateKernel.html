<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>StencilStream: stencil::monotile::StencilUpdateKernel&lt; TransFunc, TDVKernelArgument, n_processing_elements, max_grid_width, max_grid_height, in_pipe, out_pipe &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo for doxygen.png"/></td>
  <td id="projectalign">
   <div id="projectname">StencilStream<span id="projectnumber">&#160;v3.0.0</span>
   </div>
   <div id="projectbrief">SYCL-based Stencil Simulation Framework Targeting FPGAs</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacestencil.html">stencil</a></li><li class="navelem"><a class="el" href="namespacestencil_1_1monotile.html">monotile</a></li><li class="navelem"><a class="el" href="classstencil_1_1monotile_1_1StencilUpdateKernel.html">StencilUpdateKernel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classstencil_1_1monotile_1_1StencilUpdateKernel-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">stencil::monotile::StencilUpdateKernel&lt; TransFunc, TDVKernelArgument, n_processing_elements, max_grid_width, max_grid_height, in_pipe, out_pipe &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The execution kernel of the monotile architecture.  
 <a href="classstencil_1_1monotile_1_1StencilUpdateKernel.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="monotile_2StencilUpdate_8hpp_source.html">StencilUpdate.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad221da1d7d69a2c711d4fe8905f9526e" id="r_ad221da1d7d69a2c711d4fe8905f9526e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstencil_1_1monotile_1_1StencilUpdateKernel.html#ad221da1d7d69a2c711d4fe8905f9526e">StencilUpdateKernel</a> (TransFunc trans_func, <a class="el" href="namespacestencil.html#a35bed77d09460d392f62991a2f0ccb3d">uindex_t</a> i_iteration, <a class="el" href="namespacestencil.html#a35bed77d09460d392f62991a2f0ccb3d">uindex_t</a> target_i_iteration, <a class="el" href="namespacestencil.html#a35bed77d09460d392f62991a2f0ccb3d">uindex_t</a> grid_width, <a class="el" href="namespacestencil.html#a35bed77d09460d392f62991a2f0ccb3d">uindex_t</a> grid_height, Cell halo_value, TDVKernelArgument tdv_kernel_argument)</td></tr>
<tr class="memdesc:ad221da1d7d69a2c711d4fe8905f9526e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create and configure the execution kernel.  <br /></td></tr>
<tr class="separator:ad221da1d7d69a2c711d4fe8905f9526e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba71144f53197120eb6b93831ba4256b" id="r_aba71144f53197120eb6b93831ba4256b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstencil_1_1monotile_1_1StencilUpdateKernel.html#aba71144f53197120eb6b93831ba4256b">operator()</a> () const</td></tr>
<tr class="memdesc:aba71144f53197120eb6b93831ba4256b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute the kernel.  <br /></td></tr>
<tr class="separator:aba71144f53197120eb6b93831ba4256b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;concepts::TransitionFunction TransFunc, tdv::single_pass::KernelArgument&lt; TransFunc &gt; TDVKernelArgument, <a class="el" href="namespacestencil.html#a35bed77d09460d392f62991a2f0ccb3d">uindex_t</a> n_processing_elements, <a class="el" href="namespacestencil.html#a35bed77d09460d392f62991a2f0ccb3d">uindex_t</a> max_grid_width, <a class="el" href="namespacestencil.html#a35bed77d09460d392f62991a2f0ccb3d">uindex_t</a> max_grid_height, typename in_pipe, typename out_pipe&gt;<br />
requires (n_processing_elements % TransFunc::n_subiterations == 0)<br />
class stencil::monotile::StencilUpdateKernel&lt; TransFunc, TDVKernelArgument, n_processing_elements, max_grid_width, max_grid_height, in_pipe, out_pipe &gt;</div><p>The execution kernel of the monotile architecture. </p>
<p>It receives the contents of a tile and it's halo from the <code>in_pipe</code>, applies the transition function when applicable and writes the result to the <code>out_pipe</code>.</p>
<p>With the monotile approach, the whole grid fits in one tile. This eliminates the need to calculate the cells of the tile halo, reducing the cache size and number of loop iterations. More is described in <a class="el" href="namespacestencil_1_1monotile.html">monotile</a>.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">TransFunc</td><td>The type of transition function to use.</td></tr>
    <tr><td class="paramname">TDVKernelArgument</td><td>The type of parameter for the TDV system that is passed from the host to the kernel.</td></tr>
    <tr><td class="paramname">n_processing_elements</td><td>The number of processing elements to use. Similar to an unroll factor for a loop.</td></tr>
    <tr><td class="paramname">max_grid_width</td><td>The maximum number of columns in the grid. This will define the bit width of the cell indices.</td></tr>
    <tr><td class="paramname">max_grid_height</td><td>The maximum number of rows in the grid. This will define the size of the column buffer.</td></tr>
    <tr><td class="paramname">in_pipe</td><td>The pipe to read from.</td></tr>
    <tr><td class="paramname">out_pipe</td><td>The pipe to write to. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad221da1d7d69a2c711d4fe8905f9526e" name="ad221da1d7d69a2c711d4fe8905f9526e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad221da1d7d69a2c711d4fe8905f9526e">&#9670;&#160;</a></span>StencilUpdateKernel()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;concepts::TransitionFunction TransFunc, tdv::single_pass::KernelArgument&lt; TransFunc &gt; TDVKernelArgument, <a class="el" href="namespacestencil.html#a35bed77d09460d392f62991a2f0ccb3d">uindex_t</a> n_processing_elements, <a class="el" href="namespacestencil.html#a35bed77d09460d392f62991a2f0ccb3d">uindex_t</a> max_grid_width, <a class="el" href="namespacestencil.html#a35bed77d09460d392f62991a2f0ccb3d">uindex_t</a> max_grid_height, typename in_pipe , typename out_pipe &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstencil_1_1monotile_1_1StencilUpdateKernel.html">stencil::monotile::StencilUpdateKernel</a>&lt; TransFunc, TDVKernelArgument, n_processing_elements, max_grid_width, max_grid_height, in_pipe, out_pipe &gt;::StencilUpdateKernel </td>
          <td>(</td>
          <td class="paramtype">TransFunc&#160;</td>
          <td class="paramname"><em>trans_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacestencil.html#a35bed77d09460d392f62991a2f0ccb3d">uindex_t</a>&#160;</td>
          <td class="paramname"><em>i_iteration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacestencil.html#a35bed77d09460d392f62991a2f0ccb3d">uindex_t</a>&#160;</td>
          <td class="paramname"><em>target_i_iteration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacestencil.html#a35bed77d09460d392f62991a2f0ccb3d">uindex_t</a>&#160;</td>
          <td class="paramname"><em>grid_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacestencil.html#a35bed77d09460d392f62991a2f0ccb3d">uindex_t</a>&#160;</td>
          <td class="paramname"><em>grid_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Cell&#160;</td>
          <td class="paramname"><em>halo_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TDVKernelArgument&#160;</td>
          <td class="paramname"><em>tdv_kernel_argument</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create and configure the execution kernel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trans_func</td><td>The instance of the transition function to use.</td></tr>
    <tr><td class="paramname">i_iteration</td><td>The iteration index of the input cells.</td></tr>
    <tr><td class="paramname">target_i_iteration</td><td>The final, requested iteration index after the updates. This may be higher than what the kernel can process in one pass. In this case, the kernel will compute the maximum number of iterations.</td></tr>
    <tr><td class="paramname">grid_width</td><td>The number of cell columns in the grid.</td></tr>
    <tr><td class="paramname">grid_height</td><td>The number of cell rows in the grid.</td></tr>
    <tr><td class="paramname">halo_value</td><td>The value of cells outside the grid.</td></tr>
    <tr><td class="paramname">tdv_kernel_argument</td><td>The argument for the TDV system that is passed from the host to the device. This may for example contain global memory accessors. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aba71144f53197120eb6b93831ba4256b" name="aba71144f53197120eb6b93831ba4256b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba71144f53197120eb6b93831ba4256b">&#9670;&#160;</a></span>operator()()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;concepts::TransitionFunction TransFunc, tdv::single_pass::KernelArgument&lt; TransFunc &gt; TDVKernelArgument, <a class="el" href="namespacestencil.html#a35bed77d09460d392f62991a2f0ccb3d">uindex_t</a> n_processing_elements, <a class="el" href="namespacestencil.html#a35bed77d09460d392f62991a2f0ccb3d">uindex_t</a> max_grid_width, <a class="el" href="namespacestencil.html#a35bed77d09460d392f62991a2f0ccb3d">uindex_t</a> max_grid_height, typename in_pipe , typename out_pipe &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classstencil_1_1monotile_1_1StencilUpdateKernel.html">stencil::monotile::StencilUpdateKernel</a>&lt; TransFunc, TDVKernelArgument, n_processing_elements, max_grid_width, max_grid_height, in_pipe, out_pipe &gt;::operator() </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Execute the kernel. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>StencilStream/monotile/<a class="el" href="monotile_2StencilUpdate_8hpp_source.html">StencilUpdate.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
