<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>StencilStream: stencil::monotile::ExecutionKernel&lt; TransFunc, T, stencil_radius, pipeline_length, tile_width, tile_height, in_pipe, out_pipe &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">StencilStream
   &#160;<span id="projectnumber">v2.1.0</span>
   </div>
   <div id="projectbrief">Generic Stencil Simulation Library for FPGAs.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>stencil</b></li><li class="navelem"><b>monotile</b></li><li class="navelem"><a class="el" href="classstencil_1_1monotile_1_1ExecutionKernel.html">ExecutionKernel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classstencil_1_1monotile_1_1ExecutionKernel-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">stencil::monotile::ExecutionKernel&lt; TransFunc, T, stencil_radius, pipeline_length, tile_width, tile_height, in_pipe, out_pipe &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A kernel that executes a stencil transition function using the monotile approach.  
 <a href="classstencil_1_1monotile_1_1ExecutionKernel.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="monotile_2ExecutionKernel_8hpp_source.html">ExecutionKernel.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a749896321728b138d2f0de68e6c1867c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstencil_1_1monotile_1_1ExecutionKernel.html#a749896321728b138d2f0de68e6c1867c">ExecutionKernel</a> (TransFunc trans_func, uindex_t i_generation, uindex_t n_generations, uindex_t grid_width, uindex_t grid_height, T halo_value)</td></tr>
<tr class="memdesc:a749896321728b138d2f0de68e6c1867c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create and configure the execution kernel.  <a href="classstencil_1_1monotile_1_1ExecutionKernel.html#a749896321728b138d2f0de68e6c1867c">More...</a><br /></td></tr>
<tr class="separator:a749896321728b138d2f0de68e6c1867c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75bd84f4e1cf933c7ae1be318b201ee1"><td class="memItemLeft" align="right" valign="top"><a id="a75bd84f4e1cf933c7ae1be318b201ee1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstencil_1_1monotile_1_1ExecutionKernel.html#a75bd84f4e1cf933c7ae1be318b201ee1">operator()</a> () const</td></tr>
<tr class="memdesc:a75bd84f4e1cf933c7ae1be318b201ee1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute the kernel. <br /></td></tr>
<tr class="separator:a75bd84f4e1cf933c7ae1be318b201ee1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:aa7e66d629801d32e82dec3e9101bb339"><td class="memItemLeft" align="right" valign="top"><a id="aa7e66d629801d32e82dec3e9101bb339"></a>
static const uindex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstencil_1_1monotile_1_1ExecutionKernel.html#aa7e66d629801d32e82dec3e9101bb339">stencil_diameter</a> = <a class="el" href="classstencil_1_1Stencil.html">Stencil</a>&lt;T, stencil_radius&gt;::diameter</td></tr>
<tr class="memdesc:aa7e66d629801d32e82dec3e9101bb339"><td class="mdescLeft">&#160;</td><td class="mdescRight">The width and height of the stencil buffer. <br /></td></tr>
<tr class="separator:aa7e66d629801d32e82dec3e9101bb339"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4b0ce881ab5d14630450901a824477b"><td class="memItemLeft" align="right" valign="top"><a id="ab4b0ce881ab5d14630450901a824477b"></a>
static const uindex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstencil_1_1monotile_1_1ExecutionKernel.html#ab4b0ce881ab5d14630450901a824477b">n_cells</a> = tile_width * tile_height</td></tr>
<tr class="memdesc:ab4b0ce881ab5d14630450901a824477b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of cells in the tile. <br /></td></tr>
<tr class="separator:ab4b0ce881ab5d14630450901a824477b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9e93836eca1cced46de68a6c90b1031"><td class="memItemLeft" align="right" valign="top"><a id="ae9e93836eca1cced46de68a6c90b1031"></a>
static const uindex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstencil_1_1monotile_1_1ExecutionKernel.html#ae9e93836eca1cced46de68a6c90b1031">stage_latency</a> = stencil_radius * (tile_height + 1)</td></tr>
<tr class="memdesc:ae9e93836eca1cced46de68a6c90b1031"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of cells that need to be fed into a stage before it produces correct values. <br /></td></tr>
<tr class="separator:ae9e93836eca1cced46de68a6c90b1031"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57f7a878fbc7aac2258b933e735b0426"><td class="memItemLeft" align="right" valign="top"><a id="a57f7a878fbc7aac2258b933e735b0426"></a>
static const uindex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstencil_1_1monotile_1_1ExecutionKernel.html#a57f7a878fbc7aac2258b933e735b0426">pipeline_latency</a> = pipeline_length * <a class="el" href="classstencil_1_1monotile_1_1ExecutionKernel.html#ae9e93836eca1cced46de68a6c90b1031">stage_latency</a></td></tr>
<tr class="memdesc:a57f7a878fbc7aac2258b933e735b0426"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of cells that need to be fed into the pipeline before it produces correct values. <br /></td></tr>
<tr class="separator:a57f7a878fbc7aac2258b933e735b0426"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8504c0bedbd839c775d986f6794ce1a4"><td class="memItemLeft" align="right" valign="top"><a id="a8504c0bedbd839c775d986f6794ce1a4"></a>
static const uindex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstencil_1_1monotile_1_1ExecutionKernel.html#a8504c0bedbd839c775d986f6794ce1a4">n_iterations</a> = <a class="el" href="classstencil_1_1monotile_1_1ExecutionKernel.html#a57f7a878fbc7aac2258b933e735b0426">pipeline_latency</a> + <a class="el" href="classstencil_1_1monotile_1_1ExecutionKernel.html#ab4b0ce881ab5d14630450901a824477b">n_cells</a></td></tr>
<tr class="memdesc:a8504c0bedbd839c775d986f6794ce1a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The total number of loop iterations. <br /></td></tr>
<tr class="separator:a8504c0bedbd839c775d986f6794ce1a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename TransFunc, typename T, uindex_t stencil_radius, uindex_t pipeline_length, uindex_t tile_width, uindex_t tile_height, typename in_pipe, typename out_pipe&gt;<br />
class stencil::monotile::ExecutionKernel&lt; TransFunc, T, stencil_radius, pipeline_length, tile_width, tile_height, in_pipe, out_pipe &gt;</h3>

<p>A kernel that executes a stencil transition function using the monotile approach. </p>
<p>It receives the contents of a tile and it's halo from the <code>in_pipe</code>, applies the transition function when applicable and writes the result to the <code>out_pipe</code>.</p>
<p>With the monotile approach, the whole grid fits in one tile. This eliminates the need to calculate the cells of the tile halo, reducing the cache size and number of loop iterations. More is described in <a class="el" href="Architecture.html#monotile">The Monotile Architecture</a>.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">TransFunc</td><td>The type of transition function to use. </td></tr>
    <tr><td class="paramname">T</td><td>Cell value type. </td></tr>
    <tr><td class="paramname">stencil_radius</td><td>The static, maximal Chebyshev distance of cells in a stencil to the central cell </td></tr>
    <tr><td class="paramname">pipeline_length</td><td>The number of pipeline stages to use. Similar to an unroll factor for a loop. </td></tr>
    <tr><td class="paramname">output_tile_width</td><td>The number of columns in a grid tile. </td></tr>
    <tr><td class="paramname">output_tile_height</td><td>The number of rows in a grid tile. </td></tr>
    <tr><td class="paramname">in_pipe</td><td>The pipe to read from. </td></tr>
    <tr><td class="paramname">out_pipe</td><td>The pipe to write to. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a749896321728b138d2f0de68e6c1867c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a749896321728b138d2f0de68e6c1867c">&#9670;&nbsp;</a></span>ExecutionKernel()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TransFunc , typename T , uindex_t stencil_radius, uindex_t pipeline_length, uindex_t tile_width, uindex_t tile_height, typename in_pipe , typename out_pipe &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstencil_1_1monotile_1_1ExecutionKernel.html">stencil::monotile::ExecutionKernel</a>&lt; TransFunc, T, stencil_radius, pipeline_length, tile_width, tile_height, in_pipe, out_pipe &gt;::<a class="el" href="classstencil_1_1monotile_1_1ExecutionKernel.html">ExecutionKernel</a> </td>
          <td>(</td>
          <td class="paramtype">TransFunc&#160;</td>
          <td class="paramname"><em>trans_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uindex_t&#160;</td>
          <td class="paramname"><em>i_generation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uindex_t&#160;</td>
          <td class="paramname"><em>n_generations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uindex_t&#160;</td>
          <td class="paramname"><em>grid_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uindex_t&#160;</td>
          <td class="paramname"><em>grid_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>halo_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create and configure the execution kernel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">trans_func</td><td>The instance of the transition function to use. </td></tr>
    <tr><td class="paramname">i_generation</td><td>The generation index of the input cells. </td></tr>
    <tr><td class="paramname">n_generations</td><td>The number of generations to compute. If this number is bigger than <code>pipeline_length</code>, only <code>pipeline_length</code> generations will be computed. </td></tr>
    <tr><td class="paramname">grid_width</td><td>The number of cell columns in the grid. </td></tr>
    <tr><td class="paramname">grid_height</td><td>The number of cell rows in the grid. </td></tr>
    <tr><td class="paramname">halo_value</td><td>The value of cells outside the grid. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>StencilStream/monotile/<a class="el" href="monotile_2ExecutionKernel_8hpp_source.html">ExecutionKernel.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
